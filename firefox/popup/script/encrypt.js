verify();document.getElementById('secret').addEventListener('keyup',verify);
document.getElementById('code').addEventListener('keyup',verify);document.getElementById('code').addEventListener('focus',showpass);
document.getElementById('code').addEventListener('blur',hidepass);document.getElementById('share-url').addEventListener('focus',clipboard);
function clipboard() {	selectURL();	document.execCommand('copy');}function selectURL() {	document.getElementById('share-url').select();}
function encryptMsg(bypass) {	if (getPasswordScore() < 5 && !bypass) {		document.getElementById('code').disabled = true;		document.getElementById('secret').disabled = true;		document.getElementById('main-bar').className = 'bar hide';		document.getElementById('password-bar').className = '';	} else {		showLoading();		var message = document.getElementById("secret");		var password = document.getElementById("code");		cancel();		start(message.value, password.value, 1);	}}function cancel() {	document.getElementById('code').disabled = false;	document.getElementById('secret').disabled = false;	document.getElementById('password-bar').className = 'hide';	document.getElementById('main-bar').className = 'bar';}function encrypt(msg,key) {	var iv = generateIV(16);	while (msg.length % 16) {		msg += ' ';	}	var msgBytes = aesjs.utils.utf8.toBytes(msg);	var aesCbc = new aesjs.ModeOfOperation.cbc(key, iv);	var encryptedBytes = aesCbc.encrypt(msgBytes);	var encryptedHex = aesjs.utils.hex.fromBytes(iv) + aesjs.utils.hex.fromBytes(encryptedBytes);	saveMsg(encryptedHex.toUpperCase());}function saveMsg(msg) {	var url = 'http://securesend.clotheslinedigital.com/read?m=' + msg;	var share = document.getElementById("share-url");	share.value = url;	document.getElementById('loading-screen').className = 'hide';	document.getElementById('user-share').className = '';	var message = document.getElementById("secret");	var password = document.getElementById("code");	message.value = '';	password.value = '';	verify();}function verify() {	if (document.getElementById('secret').value.length > 0 && document.getElementById('code').value.length > 0) {		document.getElementById('copy').disabled = false;	} else {		document.getElementById('copy').disabled = true;	}	var strength = document.getElementById('strengthbar');	var score = getPasswordScore();	if (score < 1) {		strength.className = 'none';	} else if (score < 4 && score >= 2) {		strength.className = 'bad';	} else if (score < 5 && score >= 4) {		strength.className = 'weak';	} else if (score < 6 && score >= 5) {		strength.className = 'fair';	} else if (score >= 6) {		strength.className = 'good';	}}function getPasswordScore() {	var password = document.getElementById('code').value;	var score = 0;	if (password.length > 0) {		score++;	}	if (password.length > 8) {		score++;		document.getElementById('password-requirements-length').className = 'pass';	} else {		document.getElementById('password-requirements-length').className = 'fail';	}	if (/[a-z]/.test(password)) {		score++;		document.getElementById('password-requirements-lowercase').className = 'pass';	} else {		document.getElementById('password-requirements-lowercase').className = 'fail';	}	if (/[A-Z]/.test(password)) {		score++;		document.getElementById('password-requirements-uppercase').className = 'pass';	} else {		document.getElementById('password-requirements-uppercase').className = 'fail';	}	if (/[0-9]/.test(password)) {		score++;		document.getElementById('password-requirements-number').className = 'pass';	} else {		document.getElementById('password-requirements-number').className = 'fail';	}	if (/[!@#$%^&*(),.?]/.test(password)) {		score++;		document.getElementById('password-requirements-symbol').className = 'pass';	} else {		document.getElementById('password-requirements-symbol').className = 'fail';	}	return score;}function showpass() {	document.getElementById('password-requirements').style.maxHeight = document.getElementById('password-requirements').scrollHeight + 'px';}function hidepass() {	document.getElementById('password-requirements').style.maxHeight = '0px';}function reset() {	document.getElementById('user-share').className = 'hide';	document.getElementById('user-input').className = '';	document.getElementById('share-url').value = '';}function menu() {	showLoading();	window.location.href = '/';}
function showLoading() {	document.getElementById('user-share').className = 'hide';	document.getElementById('user-input').className = 'hide';	document.getElementById('loading-screen').className = '';}